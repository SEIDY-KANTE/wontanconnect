# Server
NODE_ENV=development
PORT=3000
API_VERSION=v1
APP_VERSION=0.0.0

# Database (Supabase PostgreSQL)
# Pooled connection for runtime queries
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true"
# Direct connection for migrations
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres"

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production-please
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8081

# Rate Limiting (requests per window)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_AUTH=5
RATE_LIMIT_API=100

# WebSocket
# Use WS_V2_AUTH=true to enable token-in-payload auth flow (recommended for staging)
WS_V2_AUTH=false
WS_TRUST_PROXY=false
WS_AUTH_TIMEOUT_MS=10000
WS_MAX_CONNECTIONS_PER_USER=5
WS_MAX_CONNECTIONS_PER_IP=20
WS_MESSAGE_RATE_LIMIT=60
WS_MESSAGE_RATE_WINDOW_MS=60000

# Logging
LOG_LEVEL=debug

# Optional: Redis (required for distributed rate limiting in production)
# REDIS_URL=redis://localhost:6379

# Optional: Monitoring
# SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# Optional: External Services
# SMTP_HOST=smtp.service.com
# SMTP_PORT=587
# SMTP_USER=your-user
# SMTP_PASS=your-pass
# S3_BUCKET=wontan-uploads
# S3_REGION=eu-west-1
# S3_ACCESS_KEY=your-key
# S3_SECRET_KEY=your-secret
